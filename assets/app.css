:root{
  --bg:#0b0f15; --panel:#101724; --panel-2:#0f1521; --muted:#9aa4b2; --text:#e7eaf0;
  --accent:#22d3ee; --accent-2:#60a5fa; --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
  --border:#1f2a3a; --chip:#0e2238; --shadow:0 6px 20px rgba(0,0,0,.35);
  --radius:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  background: radial-gradient(1400px 700px at 80% -10%, #0f192a 0%, var(--bg) 45%),
              radial-gradient(900px 500px at 0% 100%, #0c1322 0%, var(--bg) 60%);
  color:var(--text);
}
a{color:#93c5fd; text-decoration:none}
.app{max-width:1200px; margin:0 auto; padding:10px env(safe-area-inset-right) 24px env(safe-area-inset-left)}
header{
  position:sticky; top:0; z-index:30; backdrop-filter:saturate(1.2) blur(8px);
  background:linear-gradient(180deg, rgba(11,15,21,.85), rgba(11,15,21,.6));
  border-bottom:1px solid var(--border);
}
.head-wrap{display:flex; align-items:center; gap:12px; padding:12px 8px}
.logo{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px}
.logo svg{width:28px; height:28px}
.tabs{display:flex; gap:8px; overflow:auto; scrollbar-width:none; padding:8px 8px 12px}
.tabs::-webkit-scrollbar{display:none}
.tab{
  padding:10px 14px; border:1px solid var(--border); border-radius:999px; background:var(--panel);
  box-shadow:var(--shadow); white-space:nowrap; font-weight:600; opacity:.9; transition:all .2s;
}
.tab[aria-current="page"]{outline:2px solid var(--accent); opacity:1}
section.card{
  background:linear-gradient(180deg, var(--panel), var(--panel-2));
  border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:14px;
}
.card h2{margin:4px 0 12px; font-size:1.1rem; letter-spacing:.2px}
.row{display:flex; gap:10px; flex-wrap:wrap}
.field{display:flex; flex-direction:column; gap:6px; min-width:120px; flex:1}
label{font-size:.85rem; color:var(--muted)}
input, select, textarea, button{font:inherit}
input, select, textarea{
  background:#0c1320; color:var(--text); border:1px solid var(--border); border-radius:12px;
  padding:12px 12px; outline:0; min-height:42px;
}
input:focus, select:focus, textarea:focus{border-color:#2d90ff; box-shadow:0 0 0 3px rgba(45,144,255,.2)}
button{
  appearance:none; border:1px solid var(--border); background:#0e1726; color:var(--text);
  padding:11px 14px; border-radius:12px; cursor:pointer; font-weight:650; transition:transform .06s,background .2s,border-color .2s;
}
button:hover{background:#111e33}
button:active{transform:translateY(1px)}
.btn-primary{background:linear-gradient(180deg,#1d5fff,#2ea3ff); border-color:#2c7be5}
.btn-ghost{background:transparent}
.chips{display:flex; flex-wrap:wrap; gap:8px}
.chip{border:1px solid var(--border); background:var(--chip); border-radius:999px; padding:8px 12px; font-size:.85rem}
.table-wrap{overflow:auto; border:1px solid var(--border); border-radius:12px}
table{width:100%; border-collapse:collapse; min-width:760px}
th,td{padding:10px 12px; border-bottom:1px solid var(--border); text-align:left; vertical-align:top}
th{color:#b8c2cf; background:#0e1626; position:sticky; top:0; z-index:1; user-select:none}
.hint{color:var(--muted); font-size:.85rem}
.kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background:#0c1422; padding:2px 6px; border-radius:6px; border:1px solid var(--border)}
.pill{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; border:1px solid var(--border); background:#0c1320}
.divider{height:1px; background:linear-gradient(90deg, transparent, #1e293b, transparent); margin:12px -6px}
.badge{font-size:.75rem; padding:3px 8px; border-radius:999px; background:#102136; border:1px solid var(--border)}
footer{opacity:.75; font-size:.85rem; padding:18px 8px; text-align:center}
.success{color:var(--ok)} .warning{color:var(--warn)} .error{color:var(--err)}

th.sortable{cursor:pointer; position:relative; padding-right:22px}
th.sortable::after{
  content:''; position:absolute; right:8px; top:50%; transform:translateY(-50%);
  border-left:5px solid transparent; border-right:5px solid transparent;
  border-top:6px solid #6b7280; opacity:.5;
}
th.sortable[aria-sort="ascending"]::after{ border-top:0; border-bottom:6px solid #e5e7eb; opacity:1 }
th.sortable[aria-sort="descending"]::after{ border-top:6px solid #e5e7eb; opacity:1 }

/* DIP grid */
.toggles{display:flex; gap:10px; flex-wrap:wrap}
.dip{display:grid; grid-template-rows: auto auto auto; gap:4px; align-items:center; justify-items:center; width:64px}
.dip .num{font-size:.75rem; color:var(--muted)}
.dip .value{font-size:.8rem}
.dip .toggle{
  width:36px; height:68px; border-radius:10px; border:1px solid var(--border);
  background: linear-gradient(180deg, #0b131f, #09101b);
  position:relative; box-shadow: inset 0 2px 4px rgba(0,0,0,.35);
  display:inline-block; cursor:pointer; user-select:none;
}
.dip .toggle input{display:none}
.dip .toggle .knob{
  position:absolute; left:4px; bottom:4px; width:28px; height:26px; border-radius:6px;
  background:#0f2440; border:1px solid #1a3356; box-shadow:0 2px 4px rgba(0,0,0,.35);
  transition:top .15s ease, bottom .15s ease, background .15s ease, border-color .15s ease;
}
.dip .toggle input:checked + .knob{ bottom:auto; top:4px; background:#1e90ff; border-color:#1e90ff }
.dip .toggle .legend{
  position:absolute; left:50%; transform:translateX(-50%); font-size:.62rem; letter-spacing:.2px;
  pointer-events:none; opacity:.45; color:#cdd7e6; text-shadow:0 1px 2px rgba(0,0,0,.35);
}
.dip .toggle .legend.on{ top:4px } .dip .toggle .legend.off{ bottom:4px }
.dip .toggle input:checked ~ .legend.on{ opacity:1 } .dip .toggle input:checked ~ .legend.off{ opacity:.25 }
.dip .toggle input:not(:checked) ~ .legend.off{ opacity:1 } .dip .toggle input:not(:checked) ~ .legend.on{ opacity:.25 }

/* Universe color coding */
tr[data-uni] td{ background: var(--uni-bg); transition: background .2s ease }
tr[data-uni]{ border-left: 4px solid var(--uni-border) }
.uni-cell{ display:flex; align-items:center; gap:8px }
.uni-dot{ width:10px; height:10px; border-radius:999px; background: var(--uni-dot,#888); border:1px solid rgba(255,255,255,.15) }

/* Lists */
.card .list{display:grid; gap:10px; max-height:460px; overflow:auto; padding-right:2px}
.item{border:1px solid var(--border); border-radius:12px; padding:10px; background:#0d1627; display:grid; gap:6px}
.item .row-mini{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.item .title{font-weight:700; letter-spacing:.2px}
.item .meta{color:var(--muted); font-size:.85rem}

/* Typeahead */
.typeahead{ position:relative }
.typeahead input{ width:100% }
.ta-list{
  position:absolute; left:0; right:0; top:calc(100% + 6px);
  background:#0c1320; border:1px solid var(--border); border-radius:12px;
  box-shadow:var(--shadow); max-height:280px; overflow:auto; z-index:10; display:none;
}
.ta-item{
  padding:10px 12px; cursor:pointer; border-bottom:1px solid #0f2036;
  display:flex; gap:8px; align-items:center; justify-content:space-between;
}
.ta-item:last-child{ border-bottom:none }
.ta-item[aria-selected="true"], .ta-item:hover{ background:#0f192c }
.ta-empty{ padding:10px 12px; color:var(--muted) }
.ta-tag{ font-size:.75rem; padding:2px 6px; border:1px solid var(--border); border-radius:999px; background:#0e2238 }
.ta-disabled{ opacity:.6; pointer-events:none }
