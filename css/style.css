:root{
  --bg:#0b0f15;
  --panel:#101724;
  --panel-2:#0f1521;
  --muted:#9aa4b2;
  --text:#e7eaf0;
  --accent:#22d3ee;
  --accent-2:#60a5fa;
  --ok:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --border:#1f2a3a;
  --chip:#0e2238;
  --shadow:0 6px 20px rgba(0,0,0,.35);
  --radius:16px;

  /* DIP thema */
  --dip-bg:#0e1421;
  --dip-slot:#0b1220;
  --dip-slot-border:#1a2740;

  /* Fine-tune uitlijning vertical ON-knop tov toggle-middenlijn */
  --dip-orient-align-offset: 2px; /* positief = iets omlaag */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  line-height:1.45;
}

/* Links & focus */
a { color: inherit; text-decoration: none; }
a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

/* Containers */
.container{
  width:100%;
  max-width:1100px;
  margin-inline:auto;
  padding-inline:16px;
}

/* Header / Footer */
.site-header{
  background:linear-gradient(0deg, var(--panel), var(--panel-2));
  border-bottom:1px solid var(--border);
}
.site-header .brand{
  margin:0;
  padding:16px 0 8px;
  font-size:1.25rem;
}
.main-nav .nav-list{
  list-style:none;
  display:flex;
  gap:12px;
  padding:0;
  margin:0 0 12px 0;
  flex-wrap:wrap;
}
.nav-link{
  display:inline-block;
  padding:10px 12px;
  border-radius:10px;
  text-decoration:none;
  color:var(--text);
  background:transparent;
  border:1px solid transparent;
  min-height:44px; /* Touch target */
}
.nav-link:hover{ background:rgba(255,255,255,.04); border-color:var(--border); }
.nav-link:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
  border-color:transparent;
}

.site-footer{
  margin-top:24px;
  border-top:1px solid var(--border);
  background:var(--panel-2);
  padding:16px 0;
}

/* Card */
.card{
  background:linear-gradient(0deg, var(--panel), var(--panel-2));
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
  margin:20px 0;
}
.card > h2{ margin:0 0 8px 0; }
.muted{ color:var(--muted); }

/* Tiles (touch-friendly) */
.tile-grid{
  list-style:none;
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(250px,1fr));
  gap:12px;
  padding:0;
  margin:12px 0 0 0;
}
.tile{ min-width:0; }
.tile-btn{
  display:block;
  text-decoration:none;
  color:var(--text);
  background:var(--chip);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;
  min-height:64px;                 /* Touch target */
  transition:transform .06s ease, box-shadow .06s ease, background .2s ease;
}
.tile-btn:hover{ transform:translateY(-1px); box-shadow:0 8px 24px rgba(0,0,0,.35); }
.tile-btn:active{ transform:translateY(0); }
.tile-btn:focus-visible{
  outline:3px solid var(--accent);
  outline-offset:3px;
}

/* Binnen de tile */
.tile-title{ font-weight:600; margin:0 0 6px 0; }
.tile-desc{ color:var(--muted); margin:0; font-size:.95rem; }

/* Skip link – alleen zichtbaar bij focus */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:fixed; left:16px; top:16px; width:auto; height:auto; padding:10px 12px;
  background:#000; color:#fff; border-radius:10px; z-index:10000;
  outline:2px solid var(--accent);
}

/* Globale toegankelijke focus-fallback */
a, button, [role="button"], input, select, textarea{
  -webkit-tap-highlight-color: transparent;
}
:focus-visible{
  outline:2px solid var(--accent-2);
  outline-offset:2px;
}

/* Touch target baseline voor buttons/links (zonder layout te breken) */
button, .btn, .nav-link, .tile-btn{
  min-height:44px;                 /* Apple HIG */
  padding-block:10px;
}

/* Buttons */
button, .btn, .btn-primary, .btn-ghost {
  font: inherit; padding: 8px 14px; border-radius: var(--radius);
  border: none; cursor: pointer; transition: background .2s, border-color .2s, transform .05s;
  display:inline-flex; align-items:center; gap:8px;
}
button:active, .btn:active { transform: translateY(1px); }

/* ➜ Donkere basis-knop */
.btn{
  background: var(--panel-2);
  color: var(--text);
  border: 1px solid var(--border);
}
.btn:hover{
  background: var(--panel);
  border-color: var(--accent-2);
}

.btn-primary { background: var(--accent); color: #000; }
.btn-primary:hover { background: var(--accent-2); }
.btn-ghost { background: transparent; border: 1px solid var(--border); color: var(--text); }
.btn-ghost:hover { background: var(--panel-2); }

/* Badges & Chips */
.badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: var(--chip); color: var(--text);
  padding: 4px 8px; border-radius: 999px; font-size: .8rem; border: 1px solid var(--border);
}
.chips { display: flex; flex-wrap: wrap; gap: 8px; margin: 8px 0; }
.chip { background: var(--chip); padding: 4px 10px; border-radius: var(--radius); font-size: .85rem; color: var(--text); border: 1px solid var(--border); }

/* Inputs */
.input, input, select, textarea {
  background: var(--panel-2); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 6px 10px; color: var(--text); width: 100%;
}
input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Tables */
.table-wrap { overflow-x: auto; margin-top: 16px; }
table { width: 100%; border-collapse: collapse; font-size: .95rem; }
th, td { padding: 6px 10px; border-bottom: 1px solid var(--border); text-align: left; vertical-align: top; }
th { background: var(--panel-2); font-weight: 600; position: sticky; top: 0; z-index: 1; }
tr:hover td { background: rgba(255,255,255,.02); }

/* Universe cell styling */
.uni-cell { position: relative; border-left: 3px solid var(--uni-border, var(--border)); background: var(--uni-bg, transparent); border-radius: 6px; padding-left: 8px; }
.uni-dot { display: inline-block; width: 8px; height: 8px; border-radius: 999px; background: var(--uni-dot, var(--accent)); margin-right: 6px; }

/* Toasts */
.toast {
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
  background: var(--panel); padding: 10px 16px; border-radius: var(--radius);
  box-shadow: var(--shadow); animation: fadein .3s; border: 1px solid var(--border);
}
.toast.ok { border-left: 4px solid var(--ok); }
.toast.warn { border-left: 4px solid var(--warn); }
.toast.err { border-left: 4px solid var(--err); }

@keyframes fadein { from { opacity: 0; transform: translateX(-50%) translateY(6px);} to { opacity: 1; transform: translateX(-50%) translateY(0);} }

/* Typeahead */
.typeahead { position: relative; }
.ta-list {
  position: absolute; top: calc(100% + 4px); left: 0; right: 0; z-index: 10;
  background: var(--panel); border: 1px solid var(--border); border-radius: var(--radius);
  max-height: 240px; overflow-y: auto; box-shadow: var(--shadow);
}
.ta-item { padding: 8px 10px; cursor: pointer; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.ta-item:hover { background: var(--panel-2); }
.ta-empty { padding: 10px; color: var(--muted); }
.ta-tag { font-size: .8rem; color: var(--muted); }
.ta-disabled { opacity: .6; pointer-events: none; }

/* Notes */
.note {
  border: 1px solid var(--border); background: var(--panel-2);
  padding: 8px 12px; border-radius: var(--radius); color: var(--text);
}

/* Hover-tweak */
@media (hover:hover){
  .tile-btn:hover{ background:rgba(255,255,255,.04); }
}

/* =========================
   === DIP Switch Layout ===
   ========================= */

/* DIP bank + tegels eromheen */
.dips {
  display: flex; flex-wrap: nowrap; gap: 12px; margin-top: 16px;
  overflow-x: auto; padding-bottom: 6px;
}
.dip {
  flex: 0 0 auto;
  display: flex; flex-direction: column; align-items: center;
  padding: 10px 8px 18px;
  background: var(--panel-2); border: 1px solid var(--border); border-radius: var(--radius);
  min-width: 56px;
}
.dip .num,
.dip .value,
.legend { line-height: 1; }
.dip .num   { font-size: .9rem; margin-bottom: 8px; }
.dip .value { margin-top: 8px;  font-size: .85rem; color: var(--muted); }

/* Toggle verticaal (up=ON, down=OFF) */
label.toggle {
  position: relative;
  display: inline-block;
  width: 28px;
  height: 56px;
  margin: 10px 0;
  cursor: pointer;
  transition: filter .15s ease;
}
label.toggle:hover { filter: brightness(1.05); }
.toggle input { display: none; }

.toggle .knob {
  position: absolute; inset: 0;
  background: linear-gradient(180deg, #102033, #0c1727);
  border: 1px solid var(--dip-slot-border);
  border-radius: 14px;
}

/* Default: ON boven (checked = boven) */
.toggle .knob::after {
  content: "";
  position: absolute;
  left: 50%;
  width: 20px;
  height: 20px;
  border-radius: 999px;
  background: var(--accent);
  transform: translate(-50%, 32px); /* standaard onder (OFF) */
  transition: transform .2s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,.4);
}
.toggle input:checked + .knob::after {
  transform: translate(-50%, 4px); /* naar boven bij ON */
}

/* Keyboard focus ring */
label.toggle:focus-within {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 16px;
}

/* Labels ON/OFF */
.legend {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-size: .7rem;
  pointer-events: none;
}
.legend.on  { top: -10px;  color: var(--ok); }
.legend.off { bottom: -12px; color: var(--err); }

/* === FLIP MODUS: ON beneden === */
.dips.on-down .toggle .knob::after {
  transform: translate(-50%, 4px); /* standaard boven (OFF) */
}
.dips.on-down .toggle input:checked + .knob::after {
  transform: translate(-50%, 32px); /* naar beneden bij ON */
}
.dips.on-down .legend.on  { top: auto; bottom: -12px; }
.dips.on-down .legend.off { bottom: auto; top: -10px; }

/* Horizontale flip (optioneel) */
.dips.h-rtl { flex-direction: row-reverse; }

/* ── Pijlknoppen ─────────────── */
.arrow-btn {
  display: inline-flex; align-items: center; gap: 8px;
  height: 38px;
}

/* verticale pijl ON-richting */
.arrow{
  display:inline-block;
  width: 0; height: 0;
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
}
.arrow.up{
  border-top: 12px solid var(--accent);   /* ▲ = naar boven */
}
.arrow.down{
  border-bottom: 12px solid var(--accent);/* ▼ = naar beneden */
}
.arrow-label { font-weight: 600; color: var(--text); }

/* horizontale pijl (▶/◀) */
.arrow-h {
  display:inline-block;
  width: 0; height: 0;
  border-top: 7px solid transparent;
  border-bottom: 7px solid transparent;
  border-left: 12px solid var(--accent); /* ▶ */
  transition: transform .2s ease;
}
.arrow-h.left { transform: rotate(180deg); } /* ◀ */
.arrow-h-label { font-weight: 600; color: var(--text); }

/* Plaatsing knoppen rond de DIP-bank */
.dipwrap-row {
  display: flex;
  align-items: center;             /* centrum t.o.v. toggle-midden */
  justify-content: center;
  gap: 12px;
  margin: 12px 0;
}

/* Verticale ON-richting knop links naast de bank, exact op middenlijn van toggle */
.dipwrap-row .arrow-btn.vertical {
  flex: 0 0 auto;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 8px;

  /* BELANGRIJK: hoogte gelijk aan toggle-rail en centraal uitlijnen */
  height: 56px;                    /* gelijk aan label.toggle height */
  justify-content: center;
  transform: translateY(var(--dip-orient-align-offset)); /* fijn afstellen */
}

.dipwrap-row.horizontal { justify-content: center; }
.dipwrap-row .arrow-btn.horizontal {
  flex: 0 0 auto;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
}

/* Touch targets groter (coarse pointers) */
@media (pointer: coarse) {
  .toggle { width: 32px; height: 64px; margin: 12px 0; }
  .toggle .knob::after { width: 24px; height: 24px; transform: translate(-50%, 36px); }
  .toggle input:checked + .knob::after { transform: translate(-50%, 6px); }

  .dips.on-down .toggle .knob::after { transform: translate(-50%, 6px); }
  .dips.on-down .toggle input:checked + .knob::after { transform: translate(-50%, 36px); }

  /* houd de uitlijning ongeveer gelijk op touch */
  .dipwrap-row .arrow-btn.vertical { height: 64px; }
}
